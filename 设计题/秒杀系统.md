https://juejin.cn/post/6990307911117307934

1. 用redis做缓存，配备集群分散热度以及主从服务器分担压力
2. 热点数据缓存击穿：1.活动开始前把数据加载到缓存中，2.用分布式锁请求数据+自旋锁（拿不到锁sleep几十毫秒再请求缓存）
3. 缓存穿透：1.服务端过滤无效请求 2.布隆过滤器 3.将无效的值也写入缓存当中
4. redis库存预扣：
    1. 用户已经购买过，false 
    2. 用lua脚本实现 （猜测：redis是单线程，所以原子性的操作不用担心会有别的操作插入其中）
      1. 查询商品是否存在，不存在 false
      2. 如果数量=-1，表示不限量，true
      3. 数量>0  数量-1  true
      4. 数量=0 false 
5. 用队列延迟消费，如果付款超时，则返还库存
6. 用队列保存消费消息，在DB中记录订单和扣除库存
7. 对同一用户/ip/接口限流
8. 增加秒杀门槛，比如需提前预约等